<!--
============================================
; Title:  lim-assignment-8.4.html
; Author: Professor Krasso
; Modified by: Eunice Lim
; Date:   11 Dec 2020
; Attribution: With help from Prof. Krasso, Georgia Welch-Cronin
; Description: Assignment 8.4 Putting it all together
;===========================================
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Assignment 8.4</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- you will need to the href to point to your root directories css file -->
  <link rel="stylesheet" href="../site.css">

  <style type="text/css">
    #emps tbody tr:hover {
      cursor: pointer;
      background-color: #ffff99;
    }
  </style>
</head>
<body>

<div id="emps"></div>

<script type="text/javascript">
//A JavaScript constructor employee object with an id, firstName, lastName, and title properties.
class Employee{
  constructor (id, firstName, lastName, title){
this.id = id;
this.firstName=firstName;
this.lastName=lastName;
this.title=title;
}
}
//An array of five (5) employee objects
const employees=[
  new Employee("1", "Thomas", "Edison", "Software Engineer"),
  new Employee("2", "Benjamin", "Franklin", "Programmer"),
  new Employee("3", "Nikola", "Tesla", "Project Manager"),
  new Employee("4", "Charles", "Babbage", "Product Manager"),
  new Employee("5", "Alexander", "Bell", "Business Analyst")
];

//Create a getEmployee() function that accepts an id argument,
//iterates over the employee's array, and outputs the matched employee record using a JavaScript alert box.
/**
 * Params: one argument
 * Response: compare value
 * Description: return the record if values match
 */
function getEmployee(id)
{
  for (const employee of employees)
  {
    if (employee.id === id)
    {
      return employee;
    }
  }
}
// Create a string variable named "output" and build an HTML table.
let output = `<h2>Employee Listing</h2><br /><table><tr><th>ID</th><th>First Name</th><th>Last Name</th><th>Title</th></tr>`

  for (const employee of employees)
  {
    output += `<tr><td>${employee.id}</td><td>${employee.firstName}</td><td>${employee.lastName}</td><td>${employee.title}</td></tr>`
  }
  output += `</table>`
  //Assign the output string to the "emps" <div></div> using the innerHTML function
  document.getElementById("emps").innerHTML = output;

  // jQuery onClick event
  // Don't remove this, just add your code to the body of the event (curly braces)
  $(function () {
    $("table tr").click(function () {

      const employeeId = $(this).find("td:first").html();
      const selectedEmployee = getEmployee(employeeId);
     alert(`${selectedEmployee.id};${selectedEmployee.firstName};${selectedEmployee.lastName};${selectedEmployee.title}`);

    })
  });
</script>
</body>
</html>
<!--End of program-->
